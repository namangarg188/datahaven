<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DataHaven Quiz</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <div class="logo" aria-label="DataHaven logo"></div>
      <div class="titles">
        <h1>DataHaven</h1>
        <p class="subtitle">Decentralized Storage Quiz</p>
      </div>
    </div>
    <nav class="tabs" role="tablist">
      <button class="tab active" data-tab="quiz" role="tab" aria-selected="true">Quiz</button>
      <button class="tab" data-tab="add" role="tab">Add Question</button>
      <button class="tab" data-tab="leaderboard" role="tab">Leaderboard</button>
      <button class="tab" data-tab="admin" role="tab">Admin</button>
    </nav>
  </header>

  <main>
    <!-- QUIZ TAB -->
    <section id="tab-quiz" class="tab-panel active" role="tabpanel">
      <form id="start-form" class="card">
        <h2>Start Quiz</h2>
        <label class="field">
          <span>Discord Name</span>
          <input id="playerName" type="text" placeholder="e.g. user#1234" required />
        </label>
        <button type="submit" class="btn primary">Start</button>
      </form>

      <div id="quiz-area" class="card hidden">
        <div class="quiz-meta">
          <div id="question-counter">Question 1 / 20</div>
          <div id="score-counter">Score: 0</div>
        </div>
        <h2 id="question-text"></h2>
        <div id="options" class="options"></div>
        <div class="quiz-actions">
          <button id="nextBtn" class="btn" disabled>Next</button>
          <button id="submitBtn" class="btn primary hidden">Submit</button>
        </div>
      </div>

      <div id="result-area" class="card hidden"></div>
    </section>

    <!-- ADD TAB -->
    <section id="tab-add" class="tab-panel" role="tabpanel">
      <form id="add-form" class="card">
        <h2>Add Your Question</h2>
        <p class="muted">Only Add allowed. Removal is Admin-only.</p>
        <label class="field">
          <span>Discord Name (who is adding?)</span>
          <input id="addDiscord" type="text" placeholder="e.g. user#1234" required />
        </label>
        <label class="field">
          <span>Question</span>
          <textarea id="addQuestion" rows="3" placeholder="Type your question" required></textarea>
        </label>
        <div class="grid-2">
          <label class="field"><span>Option A</span><input id="addA" required /></label>
          <label class="field"><span>Option B</span><input id="addB" required /></label>
          <label class="field"><span>Option C</span><input id="addC" required /></label>
          <label class="field"><span>Option D</span><input id="addD" required /></label>
        </div>
        <label class="field">
          <span>Correct Answer</span>
          <select id="addCorrect" required>
            <option value="A">A</option>
            <option value="B">B</option>
            <option value="C">C</option>
            <option value="D">D</option>
          </select>
        </label>
        <button type="submit" class="btn primary">Add</button>
        <div id="add-status" class="status"></div>
      </form>

      <div class="card">
        <h3>Your Contributions</h3>
        <p class="muted">List of questions you added (by the Discord name you entered).</p>
        <div id="yourAddedCount" class="pill">0 added</div>
        <ul id="yourAddedList" class="list"></ul>
      </div>
    </section>

    <!-- LEADERBOARD TAB -->
    <section id="tab-leaderboard" class="tab-panel" role="tabpanel">
      <div class="card">
        <h2>Weekly Leaderboard</h2>
        <p class="muted">Top scorer each week earns <strong>5 Keys</strong>. Resets every Monday 00:00.</p>
        <ol id="leaderboard" class="leaderboard"></ol>
      </div>
      <div class="card">
        <h3>Contribution Count</h3>
        <p class="muted">Total questions added by each Discord name.</p>
        <ol id="contributors" class="leaderboard"></ol>
      </div>
    </section>

    <!-- ADMIN TAB -->
    <section id="tab-admin" class="tab-panel" role="tabpanel">
      <div class="card">
        <h2>Admin Panel</h2>
        <p class="muted">Removal is admin-only. Enter admin code to unlock delete.</p>
        <label class="field inline">
          <input id="adminCode" type="password" placeholder="Enter admin code" />
          <button id="adminUnlock" class="btn">Unlock</button>
        </label>
        <div id="adminStatus" class="status"></div>
      </div>

      <div class="card">
        <h3>User-Added Questions</h3>
        <p class="muted">Seed questions are protected and not listed here.</p>
        <ul id="adminQuestionList" class="list"></ul>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <span>DataHaven © 2025</span>
    <span class="dot">•</span>
    <a href="#" id="exportBtn">Export Data</a>
    <span class="dot">•</span>
    <a href="#" id="importBtn">Import Data</a>
    <input id="importFile" type="file" accept="application/json" class="hidden" />
  </footer>

  <script src="app.js"></script>
</body>
</html>
